#!/usr/bin/env bash

function connect_to_tailnet() {
  tailscale up \
    --authkey="${TAILSCALE_AUTH_KEY}" \
    --hostname="$TAILSCALE_HOSTNAME" \
    --advertise-tags=${TAILSCALE_ADVERTISE_TAGS:-} \
    ${TAILSCALE_ADDITIONAL_ARGS:---accept-routes --timeout=15s}

#  if ! tailscale_running; then
#    tailscale_log "Tailscale daemon is not running. Starting it now..."
#    start_tailscale_daemon
#  fi
#
#  # Check if Tailscale is already connected
#  if tailscale status | grep -q "Logged in"; then
#    tailscale_log "Tailscale is already connected."
#    return 0
#  fi
#
#  # Connect to Tailscale
#  tailscale_log "Connecting to Tailscale..."
#  if ! tailscale up; then
#    tailscale_log "Failed to connect to Tailscale."
#    return 1
#  fi
#
#  tailscale_log "Successfully connected."
}
